<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <title>포텐조</title>
</head>
<script type="module">

    // Firebase SDK 라이브러리 가져오기
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
    import { getFirestore } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
    import { collection, addDoc } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
    import { getDocs } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";


    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
        apiKey: "AIzaSyAikeFYUoMKQjzALwRPkfVdGklJ3THihAU",
        authDomain: "sparta-41391.firebaseapp.com",
        projectId: "sparta-41391",
        storageBucket: "sparta-41391.appspot.com",
        messagingSenderId: "267297099636",
        appId: "1:267297099636:web:7ec0e3783c463a516ba621",
        measurementId: "G-Y0FG2XR0FD"
    };


    // Firebase 인스턴스 초기화
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);


    // 버튼으로 멤버소개 카드 여닫기
    document.addEventListener("DOMContentLoaded", async function () {
        // 각 버튼 클릭 시 다른 카드들은 닫고 해당 카드만 토글
        $("#moreBtn1").click(async function () {
            // 모든 카드 닫기
            $('#memberCard2, #memberCard3, #memberCard4').hide();
            // 클릭한 카드만 토글
            $('#memberCard1').toggle();
        });

        $("#moreBtn2").click(async function () {
            $('#memberCard1, #memberCard3, #memberCard4').hide();
            $('#memberCard2').toggle();
        });

        $("#moreBtn3").click(async function () {
            $('#memberCard1, #memberCard2, #memberCard4').hide();
            $('#memberCard3').toggle();
        });

        $("#moreBtn4").click(async function () {
            $('#memberCard1, #memberCard2, #memberCard3').hide();
            $('#memberCard4').toggle();
        });
    });


    $("#postingbtn").click(async function () {

        let something = $('#something').val();
        let name = $('#name').val();


        let doc = {
            'something': something,
            'name': name,

        };
        await addDoc(collection(db, "guestbook"), doc);
        alert('저장완료');
        window.location.reload();
    })


    // 데이터 불러오는 기능
    let docs = await getDocs(collection(db, "guestbook"));
    docs.forEach((doc) => {
        let row = doc.data();

        let name = row['name'];
        let something = row['something'];
        let temp_html = ` <div class="col">
        <div class="visitcard">
            <div class="card-body">
                <h5 class="card-title">${name}</h5>
                <p class="card-text">${something}</p>
            </div>
        </div>
    </div>`;
        $('#visitcard').append(temp_html);

    });





</script>
<style>
    .team {
        font-size: 50px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;

    }

    .teamReivew {
        height: 250px;
        margin: 50px auto 80px auto;
        width: 900px;
        box-shadow: 0px 0px 3px 0px blue;
        border-radius: 5px;
    }

    #teamSpot {
        font-size: 20px;
    }

    #teamDetail {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;

    }

    .visit {
        height: 250px;
        margin: 50px auto 80px auto;
        width: 900px;
        box-shadow: 0px 0px 3px 0px blue;
        border-radius: 5px;
    }

    #something {
        margin: 10px;
        width: 97%;


    }

    #name {
        margin: 10px;
        width: 97%;


    }

    .visit>button {
        margin: 7px 15px 0px 10px
    }

    .guest {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        font-size: 40px;
    }
</style>

<body>

    <h1 class="team">포텐조</h1>
    <div class="teamReivew">
        <p id="teamSpot"><b>팀 소개에 대해서 중요한 설명을 적으면 된다</b></p>
        <P id="teamDetail"> 팀에 대한 자세한 설명 </P>
    </div>
    <!-- 멤버 간단한 카드  -->
    <div class="row row-cols-1 row-cols-md-4 g-4">
        <div class="col">
            <div class="card">
                <img src="..." class="card-img-top" alt="...">
                <div class="card-body">
                    <h5 class="card-title">Card title</h5>
                    <p class="card-text">This is a longer card with supporting text below as a natural lead-in to
                        additional content. This content is a little bit longer.</p>
                    <button id="moreBtn1" type="button" class="btn btn-outline-dark">더보기</button>
                </div>
            </div>
        </div>
        <div class="col">
            <div class="card">
                <img src="..." class="card-img-top" alt="...">
                <div class="card-body">
                    <h5 class="card-title">Card title</h5>
                    <p class="card-text">This is a longer card with supporting text below as a natural lead-in to
                        additional content. This content is a little bit longer.</p>
                    <button id="moreBtn2" type="button" class="btn btn-outline-dark">더보기</button>
                </div>
            </div>
        </div>
        <div class="col">
            <div class="card">
                <img src="..." class="card-img-top" alt="...">
                <div class="card-body">
                    <h5 class="card-title">Card title</h5>
                    <p class="card-text">This is a longer card with supporting text below as a natural lead-in to
                        additional content. This content is a little bit longer.</p>
                    <button id="moreBtn3" type="button" class="btn btn-outline-dark">더보기</button>
                </div>
            </div>
        </div>
        <div class="col">
            <div class="card">
                <img src="..." class="card-img-top" alt="...">
                <div class="card-body">
                    <h5 class="card-title">Card title</h5>
                    <p class="card-text">This is a longer card with supporting text below as a natural lead-in to
                        additional content. This content is a little bit longer.</p>
                    <button id="moreBtn4" type="button" class="btn btn-outline-dark">더보기</button>
                </div>
            </div>
        </div>
    </div>
    <div>
        <!-- 멤버 좀더 자세한  카드  -->
        <div id="memberCard1" class="card mb-3" style="display:none">
            <div class="row g-0">
                <div class="col-md-4">
                    <img src="" class="img-fluid rounded-start" alt="...">
                </div>
                <div class="col-md-8">
                    <div class="card-body">
                        <h5 class="card-title">Card title1</h5>
                        <p class="card-text">

                        </p>
                    </div>
                </div>
            </div>
        </div>
        <div id="memberCard2" class="card mb-3" style="display:none">
            <div class="row g-0">
                <div class="col-md-4">
                    <img src="" class="img-fluid rounded-start" alt="...">
                </div>
                <div class="col-md-8">
                    <div class="card-body">
                        <h5 class="card-title">Card title2</h5>
                        <p class="card-text">

                        </p>
                    </div>
                </div>
            </div>
        </div>
        <div id="memberCard3" class="card mb-3" style="display:none">
            <div class="row g-0">
                <div class="col-md-4">
                    <img src="" class="img-fluid rounded-start" alt="...">
                </div>
                <div class="col-md-8">
                    <div class="card-body">
                        <h5 class="card-title">Card title3</h5>
                        <p class="card-text">

                        </p>
                    </div>
                </div>
            </div>
        </div>
        <div id="memberCard4" class="card mb-3" style="display:none">
            <div class="row g-0">
                <div class="col-md-4">
                    <img src="" class="img-fluid rounded-start" alt="...">
                </div>
                <div class="col-md-8">
                    <div class="card-body">
                        <h5 class="card-title">Card title4</h5>
                        <p class="card-text">

                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 방명록 -->
    <div class="visit">

        <div class="guest">
            <b> 방명록을 작성해 주세요 </b>
        </div>
        <div>
            <input type="text" id="something" placeholder="내용">
        </div>

        <div>
            <input type="text" id="name" placeholder="이름">
        </div>

        <button id="postingbtn" type="button" class="btn btn-outline-primary">제출하기</button>
    </div>

    <div class="mycards">
        <div id="visitcard" class="row row-cols-1 row-cols-md-4 g-4">

        </div>
    </div>








</html>